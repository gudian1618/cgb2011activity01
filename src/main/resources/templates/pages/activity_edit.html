<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        ul li {
            list-style-type: none
        }
    </style>
</head>
<body>
<h1>The Activity Edit Page</h1>

<form>
    <ul>
        <!--<li><input type="hidden" name="id" ></li>-->
        <li>标题</li>
        <li><input type="text" id="titleId" name="title"></li>
        <li>类型</li>
        <li><input type="text" id="categoryId" name="category"></li>
        <li>开始时间</li>
        <li><input type="text" id="startTimeId" name="startTime"></li>
        <li>结束时间</li>
        <li><input type="text" id="endTimeId" name="endTime"></li>
        <li>备注</li>
        <li><textarea rows="5" cols="30" id="remarkId" name="remark"></textarea></li>
        <li><input type="button" value="save" onclick="doSaveActivity()"></li>
    </ul>
</form>
<!--<script type="text/javascript" src="/js/ajaxframework.js"></script>-->
<script type="text/javascript" src="/js/jQuery.min.js"></script>
<script type="text/javascript">

    function doSaveActivity() {
        // debugger
        // 1.定义请求参数
        var params = $("form").serialize();
        // 2.定义请求的url
        const url = "doSaveActivity";
        // 3.发送异步请求
        $.post(url, params, function (result) {
            alert(result);
            location.href = "activity_list";
        })
            .fail(function (xhr) {
                if (xhr.status == 400) {
                    alert("请检查数据格式");
                }
            })
    }

</script>
</body>
</html>
